//// -- LEVEL 1
//// -- Schemas, Tables and References

// Creating tables
Table app_author {
  id integer [pk, increment]
  name varchar(255) [unique, not null]
}

Table app_document {
  id integer [pk, increment]
  title varchar(255) [not null]
  description text
  image varchar(100)
  document varchar(100)
  created_at datetime [not null]
  updated_at datetime [not null]
  author_id integer
  user_id integer
}

Table auth_user {
  id integer [pk, increment]
  username varchar(150) [unique, not null]
  email varchar(254) [not null]
  first_name varchar(150)
  last_name varchar(150)
  is_staff boolean
  is_active boolean
  date_joined datetime
}

// Many-to-many join table for document favorites
Table app_document_favorited_by {
  id integer [pk, increment]
  document_id integer [not null]
  user_id integer [not null]
}


// Creating references
// Note: Django default on_delete is CASCADE. SET_NULL is specified here.
Ref: app_document.author_id > app_author.id [delete: set null]
Ref: app_document.user_id > auth_user.id [delete: cascade]
Ref: app_document_favorited_by.document_id > app_document.id [delete: cascade]
Ref: app_document_favorited_by.user_id > auth_user.id [delete: cascade]

